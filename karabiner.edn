{ ;; karabiner.edn 1.02 2024-21 dialing back, see Sync/notes/config.taskpaper 
;;? DEFINITIONS (profiles, devices, applications, io-sources, templates, modifiers froms, tos, layers, simlayers)
;; PROFILES (todo empty)
	;; :simlayer-threshold 210 ;def = 50 ;! when set to 1000 there is very noticable delay and 50 isnt enough time, 300 too much
		;! seems to create obsene delay on  on key up
:devices { ;;? DEVICES (todo org)
	;;â€  templates
		;; :device [{:product_id XXX, :vendor_id XXX}] ;;* DeviceName
		;; :ap2 [{:vendor_id 1241, :product_id 41618 }] ;; Anne Pro 2 (mechanical)

	;; ğŸ’» mbps 
		:apple [ {:vendor_id 1452} {:vendor_id 76} {:is_built_in_keyboard true}] ;;* all apple internals works âœ…
		:mb0 [{:product_id 631 :vendor_id 1452}] ;;* ğŸ’» origiinal 
		:mx3 [{:product_id 4294970359 :vendor_id 1452}] ;;* ğŸ’» mx3 âœ… works
		:mbp0 [{:product_id 631 :vendor_id 1452}]
		;; mbx
		;; mba
		;; NeXT
		;;todo what about 
	;;* âŒ¨ï¸ keyboards
	;; uhks: {:vendor_id 7504} ;; UHKS
	:uhks [{:vendor_id 7504}]
	:uhk [{:product_id 24866 :vendor_id 7504}]
	:uhk-2 [{:product_id 24868 :vendor_id 7504}]
	;;* ğŸ–± mice
		:logiG600 [{:product_id 49738 :vendor_id 1133}] ;;* Logitech G600 (âœ…) logiG600
		;; :utech 										;;* UtechSmart Venus (old-school gaming)
		;; :logi-bt										;;* Logitech M585 (bluetooth mouse)
		;; bluetooth 2
	    

	;; todos: add mice
		;; 2024-10-16 ğŸ‘ adding logitech worked! (used vendor id and product id () from previous config, not sure what new vedor id 4295704614 is on mx3)
		;; todo add uhks
	;; comment:  i wonder if you can filter for universal control and fix some of those problems

	}
:applications   { ;;? APPLICATIONS
	;; usage: add here then create group at APP FILTERED vscode://file/Users/loudog/Sync/config.files/Karabiner/karabiner.edn:307
	;; use Raycast command to get bundle raycast://ai-commands/create-ke-rule-from-app-name?arguments=
	:Chromes       ["^com\\.google\\.Chrome$", "^org\\.chromium\\.Chromium$", "^com\\.google\\.Chrome\\.canary$"]
	;; :Chromes                       ["^com\\.google\\.Chrome$", "^org\\.chromium\\.Chromium$", "^com\\.google\\.Chrome\\.canary$", "^com\\.brave\\.Browser"]
	  :Browsers      ["^org\\.mozilla\\.firefox$", "^org\\.mozilla\\.firefoxdeveloperedition$", "^com\\.google\\.Chrome$", "^org\\.chromium\\.Chromium$", "^com\\.google\\.Chrome\\.canary$", "^com\\.apple\\.Safari$"]
	  :Terminals     ["^com\\.apple\\.Terminal$", "^com\\.googlecode\\.iterm2$", "^co\\.zeit\\.hyperterm$", "^co\\.zeit\\.hyper$", "^io\\.alacritty$", "^net\\.kovidgoyal\\.kitty$"]
	  :Debuggers     ["^org\\.mozilla\\.firefox$", "^org\\.mozilla\\.firefoxdeveloperedition$", "^com\\.google\\.Chrome$", "^org\\.chromium\\.Chromium$", "^com\\.google\\.Chrome\\.canary$", "^com\\.apple\\.Safari$", "^com\\.microsoft\\.VSCode$"]
		;; * CORE

	:Bear              ["^net\\.shinyfrog\\.bear$"] ;; todo, not working yet...
	:Drafts            ["^com\\.agiletortoise\\.Drafts-OSX"] ;; ğŸ‘ works		
	:Dynalist          ["^io\\.dynalist$"]
	:Finder            ["^com\\.apple\\.finder$"]
	:Messages          ["^com\\.apple\\.iMessage$"]
	:Moom              ["^com\\.manytricks\\.Moom$"]
	:Notes             ["^com\\.apple\\.Notes$"]
	:Notion            ["^notion\\.id$"]
	:nvUltra           ["^dev\\.nvUltra\\.nvUltra$"]
	:Obsidian          ["^md\\.obsidian\\.obsidian$"]
	:OmniFocus         ["^com\\.omnigroup\\.OmniFocus$"]
	:Raycast           ["^com\\.raycast\\.Raycast$"]
	:TextEdit          ["^com\\.apple\\.TextEdit$"]
	:VSCode            ["^com\\.microsoft\\.VSCode$"]
	
	:overlay-apps ["^com\\.slidepad\\.slidepad-setapp", "^com\\.sidenotes\\.Sidenotes$", "^com\\.menubarx\\.MenubarX$", "^.*Tot.*$"]
		:Slidepad	   ["^com\\.slidepad\\.slidepad-setapp"]
		:SideNotes         ["^com\\.sidenotes\\.Sidenotes$"]
		:MenubarX          ["^com\\.menubarx\\.MenubarX$"]
		:Tot               ["^.*Tot.*$"]
	}
;; :input-sources  { ;;? INPUT SOURCES
	;; :us {:input_mode_id   ""
		;; :input_source_id "com.apple.keylayout.US"
		;; :language        "en"}
	;; }
:templates      { ;;? TEMPLATES
	:run "%s"
	:open "open \"%s\""
	:open-app "open -a \"%s\""
	:wait "sleep 1" ; pause 250 ms	;; Sounds and Audio Feedback invokded by calling `afplay`, use of emojis to make itmore readable but sometimes causes issues
	:km "osascript -e 'tell application \"Keyboard Maestro Engine\" to do script \"%s\"'"
	:shortcut "osascript -e 'tell application \"Shortcuts Events\" to run the shortcut named \"%s\"'"
	:alf "osascript -e 'tell application id \"com.runningwithcrayons.Alfred\" to run trigger \"%s\" in workflow \"%s\" with argument \"%s\"'"
	:btt "osascript -e 'tell application \"BetterTouchTool\" to  trigger_named \"%s\"'"
	:ray "open \"raycast://extensions/%s\""	
	;; :alf "osascript -e 'tell application \"Alfred 5\" to run nputtrigger \"%s\" in workflow \"%s\" with argument \"%s\" ;; run Alfred workflow using workflow bundle ID as argument
	;;? ğŸ”‰ Sound Effects and  audio feedback aliases
	 		;; Sounds and Audio Feedback invokded by calling `afplay`, use of emojis to make itmore readable but sometimes causes issues
		:ğŸ”ˆ "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/Focus2.aiff" ;; high-pitched click
		:ğŸ”ˆğŸ”ˆ "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrawerClosing.aiff"
		:ğŸ”ˆğŸ”ˆğŸ”ˆ "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/SearchRangeWithinSameElement.aiff"
		:ğŸ”‰ "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrillOut.aiff"
		:ğŸ”Š "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrawerClosing.aiff"
		:ğŸ“¢ "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrawerClosing.aiff" 
		:ğŸ› "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/Focus2.aiff" ;; high-pitched click
		:ğŸ”” "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/WindowActivated.aiff" ;; nice sounding soft beep
		;; ğŸ›ğŸ””ğŸ“¯
		:Focus2 "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/Focus2.aiff" ;; high-pitched click
		:beep "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/WindowActivated.aiff" ;; nice sounding soft beep
		:morse "afplay /System/Library/Sounds/morse.aiff" ;; don't really like this 1 as much...
		:pop "afplay /System/Library/Sounds/Pop.aiff"
		:tink "afplay /System/Library/Sounds/Tink.aiff"	
		:soundOn "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrillOut.aiff"
		:soundOff "afplay /System/Library/PrivateFrameworks/ScreenReader.framework/Versions/A/Resources/Sounds/DrillIn.aiff"
		;; :gokurl "goku" ;; trying to add load goku
	}
:modifiers      { ;; MODIFIERS (todo empty)
	}
:froms          { ;; FROMS (todo empty)
	}
:tos            { ;;? TOS
	:rayfetti [{:shell "open raycast://confetti"}] ;; âœ… works when called 	
	;; :refocus [:!Tgrave_accent_and_tilde]
	}
:layers         { ;;? LAYERS 
	:space-mode {:key :spacebar                ;;* space layer (space-mode)
		:condi [:!f& :!d& :!c& :!k& :!w&
		:!Rctrl-mode :!LCMD :!tildeÂµ :!quote-mode :!fslashÂµ :!.Âµ :!â†©Âµ :!Râ‡§Âµ]
		} ; prevents space mode from overiding F and D modes 
	:Rctrl-mode {:key :right_control           ;;* Rctrl mode
		:alone {:key :spacebar} :condi [:!f& :!d& :!c& :!k& :!w& :!space-mode]
		} ; :Rctrl-mode {:key :right_control :condi [:!f& :!d& :!c& :!k& :!w&]}			
	:â‹Âµ         {:key :escape                  ;;* escape layer (â‹Âµ)
		:condi [:!space-mode]
		}	
	:tildeÂµ     {:key :grave_accent_and_tilde  ;;* tilde layer (tildeÂµ)
		:condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]
		}
	:1Âµ         {:key :1                       ;;* 1 layer (1Âµ)
		:condi [:!space-mode :!bslashÂµ :!Râ‡§Âµ]
		}
	:2Âµ         {:key :2                       ;;* 2 layer (2Âµ)
		:condi [:!space-mode :!bslashÂµ
		:!Rctrl-mode :!LCMD :!tildeÂµ :!quote-mode :!fslashÂµ :!.Âµ :!â†©Âµ :!Râ‡§Âµ]
		}
	:-Âµ         {:key :hyphen                  ;;* hyper layer (-Âµ)
		:condi [:!space-mode]
		}
	:=Âµ         {:key :equal_sign              ;;* equal sign layer (=Âµ
		:condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!â†©Âµ]
		}	
	:bslashÂµ    {:key :backslash               ;;* backslash layer
		:condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]
		}
	:fslashÂµ    {:key :slash                   ;;* slash layer (fslashÂµ)
		:condi [:!space-mode :!tildeÂµ :!bslashÂµ :!fslashÂµ :!=Âµ]
		}
	:.Âµ         {:key :period                  ;;* period layer (.Âµ) 
		:condi [:!space-mode :!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]
		}
	:â†©Âµ         {:key :return_or_enter         ;;* return layer (â†©Âµ)
		:condi [:!space-mode :!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]
		}
	;;! :Râ‡§Âµ    {:key :right_shift            ;;* was trying something
		;; :condi [:!space-mode :!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]
		;; }
	;;row1 escapeÂµ, F1Âµ, F12Âµ,
	;;row2 tildeÂµ, 1Âµ, -Âµ, =Âµ, deleteÂµ
		;; :1Âµ {:key :1}
			;; [ ] search and replace...
	;;row3 tabÂµ, [/] (open_bracketÂµ), `\` (bslashÂµ)
		; :tab-mode {:key :tab} ;; tab currently assigned to fn for left hand window focus switching via Context
		;; should probably ad tab as a tuper mode bc then can make 	qwerty fn+character... or maybe theres a way to do it with spacebar+ capslock and 
	;;row4 caps_lockÂµ, semicolonÂµ, quoteÂµ, returnÂµ
		;; :quote-mode {:key :quote condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ]}
		;; :return-mode {:key :return_or_enter :condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!=Âµ :!â†©Âµ :!space-mode]}
	;;row5 left_shiftÂµ, zÂµ, xÂµ, `,` (commaÂµ), `.` (.Âµ), / (slashÂµ), right_shiftÂµ
		;; [ ] 
	;;row6 left_arrowÂµ, right_arrowÂµ, up_arrowÂµ, down_arrowÂµ
	;; :=Âµ {:key :equal_sign ;;* equal sign layer (=Âµ
		;; :condi [:!f& :!d& :!c& :!k& :!w& :!Rctrl-mode :!LCMD :!tildeÂµ :!bslashÂµ :!quote-mode :!fslashÂµ :!â†©Âµ]
		;; }

	;;todo â€  new layer definition template
		;; :KEYÂµ {:key :KEY 
			;; :condi [:!space-mode]
			;; }
	;;todo [ ] figure out if arrows get triggered when space+jlik
	}
:simlayers      { ;;? SIMLAYERS
		;; :semicolon-mode {:key :semicolon} :! taken out in preference to have semicolon mapped to `fn` for use with Context's quick search
		:a& {:key :a}
		:b& {:key :b}
		:c& {:key :c}
		:d& {:key :d :condi :!space-mode}
		:e& {:key :e}
		:f& {:key :f}
		:g& {:key :g}
		:h& {:key :h}
		:i& {:key :i}
		:j& {:key :j}
		:k& {:key :k}
		:l& {:key :l}
		:m& {:key :m}
		:n& {:key :n}
		:o& {:key :o}
		:p& {:key :p}
		:q& {:key :q}
		:r& {:key :r}
		:s& {:key :s}
		:t& {:key :t}
		:u& {:key :u}
		:v& {:key :v}
		:w& {:key :w}
		:x& {:key :x}
		:y& {:key :y}
		:z& {:key :z}
	}
:main [ ;;? MAIN RULES ================================

;;? âœ¨ New/org
;;* Mouse Thumbpad System (logitech MOUSEPAD MODE) #TODO install logi software and...
	{:des "mousepad keyboard mode" :rules [ :logiG600
	
	;; modifiers 
	;; [:##left_control [[:ğŸ”ˆ] :left_command]] ;;â€¢ ring finger button as command
	;; [:##left_control [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :left_command]] ;;â€¢ mousepad 3 for...
	
	;; thumbpad
	[:##keypad_1 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :escape]] ;;â€¢ mousepad 1 for escape
	[:##keypad_2 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :delete_or_backspace]] ;;â€¢ mousepad 2 for...
	[:##keypad_3 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :delete_or_backspace]] ;;â€¢ mousepad 3 for...
	[:##keypad_4 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!Stab]] ;;â€¢ mousepad 3 for...
	[:##keypad_5 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :up_arrow]] ;;â€¢ mousepad 3 for...
	[:##keypad_6 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :tab]] ;;â€¢ mousepad 3 for...
	[:##keypad_7 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :left_arrow]] ;;â€¢ mousepad 3 for...
	[:##keypad_8 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :down_arrow]] ;;â€¢ mousepad 3 for...
	[:##keypad_9 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :right_arrow]] ;;â€¢ mousepad 3 for...
	[:##keypad_0 [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :end]] ;;â€¢ mousepad 3 for...
	[:##keypad_plus [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :spacebar]] ;;â€¢ mousepad 3 for...
	[:##keypad_hyphen [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :return_or_enter]] ;;â€¢ mousepad 3 for...
	]}

{:des "TEST " :rules [ ;;? TEST MODE Rules
	;; [[:t :r] [:t :e :s :t]] ;; test for TO array  âœ”
	;;* test sound test
	;; [ [:t :1][:ğŸ”ˆ]][[:t :2][:ğŸ”‰]][[:t :3][:ğŸ”Š]][[:t :4][:ğŸ“¢]][[:t :5][:ğŸ›]][[:t :6][:ğŸ””]] 
	
	;;* test oskb
	;; [ [:o :s :k] [:open "raycast://confetti"] ];; âœ… 
	
	;; âš¡
	
	;; [ [:o :s :k :b] [:open "raycast://confetti"] ]
				;; âœ… worked
		;; [[:o :s :k :b] :rayfetti] ;;! âŒ does not work
		;; [[:o :s :k :b] [:rayfetti]] ;;! âŒ does not work
	; test shift+fn
	;; [:!Rt :rayfetti] ;;; Q and R work but W â€ 
	;; [:!QOt :rayfetti] ;;; lef+t rightworks
	;; [:!RTCw :km ""] ;;; 
	;;* test :device for apple internal NOWâš¡
	;; [:!QCt :rayfetti] ;;â€¢ right shift+t to test confetti ğŸ‰
	;; [:!QCt :rayfetti :apple] ;;â€¢ :apple device group works âœ”
	;; [:!QCt :rayfetti :mx3] ;;â€¢ :apple device group works âœ”    
	;; [:!St :rayfetti :mbpx] ;; worked 
	;;â€¢ caps+right command + c to copy url 
	;; [:!CQa :rayfetti :refocus] seems to trigger select all first
	;; [:!CQt :rayfetti] ;;! [:!CQt :rayfetti] WORKS 
	;; [:!Cc :rayfetti] ;;! !Cc works
	;; [:!CQc :rayfetti] ;;! !CQc DOES NOT WORK maybe overridden
	;; [:!SRc :rayfetti] ;;! !!c works
	;; [:!!c :refocus] ;; worked 
	;; [:!!c [[:rayfetti] [:refocus]]] ;; worked 

	]}
;;? SIMULTANEOUS RULES (SIMULTANEOUS Mode)
	{:des "Simultaneous Rules":rules [
		;;â€  new sim rule template

		[[:a :s :d :f :j :k :l :semicolon] [:open "raycast://confetti"]]	;;! example of conflict with subset of simulaneous key array 
		;; -> going to change it to 
		[[:left_shift :right_shift :4 :8] [:open "raycast://confetti"]] ;;â€¢ â‡§+â‡§+4+8 for confetti
		[[:f :l :n]			[:ray "raycast/raycast-notes/raycast-notes"]]	;;â€¢ fln for raycast notes
		[[:s :f :l :n]		[:ray "raycast/raycast-notes/search-notes"]]	;;â€¢ sfln for raycast notes search
		[[:n :e :w :f :l]	[:ray "raycast/raycast-notes/create-note"]] 	;;â€¢ newfl for new floating note
		[[:n :o :w][:ray "raycast-notes/raycast-notes?context=%7B%22id%22:%22628EB8FA-1D86-4881-9154-21CB25F2F1AB%22%7D"]] ;;* now for raycast Now note
		[[:f :n :o :w][:open "raycast://extensions/raycast/raycast-notes/raycast-notes?context=%7B%22id%22:%22628EB8FA-1D86-4881-9154-21CB25F2F1AB%22%7D"]] ;;* now for ACTION

		;; activate applicationsw
		[[:b :e :a :r] [:open "/Applications/Bear.app"]]
		[[:t :a :s :k :p] [:open "/Applications/Setapp/TaskPaper.app"]]
		[[:t :e :i] [:open "/Applications/TextEdit.app"]]
		;; utility
		[[:k :e :v][:run "open -a Karabiner-EventViewer"]]     ;;* kev for karbainer event viewer
		[[:f :k :0][:shortcut "Full Keyboard Access OFF"] ]    ;;* fka for Full Keyboard Access shortcut
		[[:f :k :a][:shortcut "Full Keyboard Access TOGGLE"] ] ;;* fka for Full Keyboard Access shortcut
		[[:f :k :o][:shortcut "Full Keyboard Access ON"] ]     ;;* fko for Full Keyboard Access shortcut
		[[:k :m] [:km "Activate Keyboard Maestro"] ] ;;* k|m activate Keyboard Maestro
		[[:k :b] :rayfetti]
		[[:k :r :b][:open "raycast://extensions/lucaschultz/karabiner-profile-switcher/index"]] ;;* krb switch Karabiner profile
		[[:n :e :w] [:open "sidenotes://open/3F52308E-C16E-40C2-8CBE-87BC0F8CC590"] ] ;;* new for SideNotes "New" note
		[[:o :s :k] [:shortcut "Onscreen Keyboard Overlay"] ] ;;* osk for Onscreen Keyboard Overlay   âœ… 
		[[:s :n :l :a] [:km "SnippetLab: Toggle Assistant"]] ;;* SNL snippets lab toggle assistant
		[[:s :n :l] [:km "SnippetLab: Show Main Window"]] ;;* SNL snippets lab toggle assistant		
		[[:w :d :c] [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :mission_control] ] ;;â€¢ w+spacebar for Expose  (INSTEAD  of via âŒƒâŒ¥âŒ˜+f3) ->

		]}
;;? ASSORTED RULED
	;;* right shift+space for "-" and "_"
		{:des "shift+space for _ and -":rules[ ;;*          shift+space for _ and -
			[:!Rspacebar :hyphen]                           ;;â€¢ (r)â‡§+â£ for "-"
			[:!SRspacebar :!Shyphen]                        ;;â€¢ both shift + spacebar for underscore 
			;; COMMENTS:
			;; modified to always require rightshift
			;; was causing issues with UHK right control still need #todo
				;; [:!Sspacebar :!Shyphen] ;;- left_shift+spacebar for underscore "_"
			;; 
		]}
	;;* double press âŒ˜+q to quit to prevent accidental
		{:des "double press âŒ˜+q to quit " :rules[ [:!C#Pq [ :!Cq ["âŒ˜q" 0]] ["âŒ˜q" 1]] [:!C#Pq ["âŒ˜q" 1] nil {:delayed {:invoked ["âŒ˜q" 0] :canceled ["âŒ˜q" 0]}}] ]}
		;;= HYPER MODE and MODIFIERS ==============================
	;;* capslock as hyper ;; ğŸš© PIN
		{:des "Capslock as hyper" :rules [ [:condi :!space-mode :!Rctrl-mode] ;;* Capslock as hyper (command+shift+option+control)
		[:##caps_lock :!!left_control nil {:alone :escape} ] 
			]}
	;;* Semicolon FN
		{:des "Semicolon as fn" :rules [ [:condi :!space-mode :!Rctrl-mode] ;;* Semicolon as FN for use with Contexts quicksearch
		[:##semicolon :##fn nil {:alone :semicolon}] ]}
		;;TODO fn is used with Contexts for quick witching
	;;* UHK FN: F24 (fn hardware key on uhks) sends apple FN with all modifiers optional ONLY when sent from UHKs (ğŸŸ¢ works 2024-10-22)
		{:des "FN from UHK" :rules [[:##f24 :fn [:uhks] ]]}
	;;* iPad Default Shortcuts
		{:des "iPad default Shortcuts" :rules [ ;;? iPad defaults ========== 
			[:!Cperiod [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :escape]] [:!Qperiod [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :escape]] ;;â€¢ âŒ˜+period for escape
			[:!!backslash [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!Ti]] ;;â€¢ ğŸŒ+\ show/hide sideview
			;;â€¢ ğŸŒ+\ for cycle sidevview
			;;â€¢ ğŸŒ+q for Quick Note #todo
	;;TODO (ASSORTED) A	;; [ ] decide on format (readability by line length or more on 1 line?)
	]}


;;? Â© COMMON COMMANDS ======================================
	;; ğŸ“ RECAP left+right... can then just create an alias of existing km macro and name it
	;; to add : c+d, 
	{:des "Common Commands (left and right modifiers)" :rules [  
	;; attempting 
	;;! CONSIDERATIONS: what about right handed shortcuts, what about left hand?,  
		;;! potential con is unable to trigger with 1 had on mouse...
	[:!SCQslash [:km "Â© Cheatsheet"]] ;; * RCMDâ‡§âŒ˜+/ for âŒ˜+1
	;; V1 using perffered keybinding
	[:!CQ1 [:km "âŒ˜+1"]] ;; * LRâŒ˜+1 for âŒ˜+1 Home
	[:!CQ2 [:km "âŒ˜+2"]] ;; * LRâŒ˜+2 for âŒ˜+2
	[:!CQ3 [:km "âŒ˜+3"]] ;; * LRâŒ˜+3 for âŒ˜+3
	[:!CQ4 [:km "âŒ˜+4"]] ;; * LRâŒ˜+4 for âŒ˜+4
	[:!CQl [:km "âŒ˜+l"]] ;; * LRâŒ˜+L for Rename item
	
	;; V2 using km with prepending Â©
	;; open link under cursor with
	[:!QTo [:km "Â© Open Link Under Cursor"]] ;; * LRâŒ˜+4 for âŒ˜+4
	[:!CQopen_bracket [:km "Â© Back"]] ;; * LRâŒ˜+4 for âŒ˜+4
	[:!CQclose_bracket [:km "Â© Forward"]] ;; * LRâŒ˜+4 for âŒ˜+4
	[:!CQp [:km "Â© Command Palette"]] ;; * LRâŒ˜+p for command palette
	;; V3 using combination
	[:!CQreturn_or_enter [:km "âŒ˜+â†© (Start and Stop Editing)"]] ;; * LRâŒ˜+return start/stop editing
	
	[:!QTCw [:km "Â© Open in New Window"]];;â€¢ RCMD âŒƒâŒ˜+w for Open in New Window
		;;! previous work doesn't work because should be open in new tab 

	]}
{:des "Common Commands" :rules [ 
		;;? Next/Previous Tab (left/right) - (â‡§)âŒƒ+tab - d+s and d+f
		;;? Back/Forward (History Navigation) âŒ˜+[ and âŒ˜+] (d+a and d+g)
			[:!Copen_bracket [:km "Back"]]
 
		;;? âŒƒâŒ˜+w to Open in New Window
			[:!TCw [:km "Open In New Window"] :Bear]
			;; [:!TCw [:!Treturn_or_enter :o] :Slidepad] ;;â€¢ âŒƒâŒ˜+w to "open in new window" common command
			[:!TCw [:!Treturn_or_enter :!Odown_arrow :!Odown_arrow :o] :Slidepad] ;;â€¢ Slidepad via...
			;; [:!TCw [:open "raycast://confetti"] :Bear] ;; works
		;;? line up/ dow
		[:!TCdown_arrow [:rayfetti] :Bear] ;;â€¢ works
		;; [:!TCdown_arrow [:!OCdown_arrow] :Bear] ;;â€¢âŒ only works if using arrow keys

		]}
;;* APP FILTERED =====================================
	;; â€  new app mode template
		;; {:des "â€  APP mode" :rules [:APP
			;; [:!SRt [:open "raycast://confetti"]] ;; ğŸ§ª
			;; ]}
	{:des "Bear mode" :rules [:Bear
		;; [:!SRt [:open "raycast://confetti"]] ;; works
		]}
	{:des "â€  Slidepad mode" :rules [:Slidepad
		;; [:!TCw [:open "raycast://confetti"]] ;; works -> next get it to
		;; [:!TCw [:!Treturn_or_enter :o]] ;;â€¢ âŒƒâŒ˜+w to "open in new window" common command
		;; makeit so in Slidepad âŒƒâŒ˜+w calls BTT open in external Browser url 
		]}
	{:des "Drafts Mode" :rules [:Drafts
		[:!SRt [:open "raycast://confetti"]] ;;* WORKS! but makes lose context
		[:!TCw [:km "Open in New Window"]] ;; is triggering a new line
		]		
	}
{:des "overlay mode" :rules [:overlay-apps
	[:!SRt [:open "raycast://confetti"]] ;; ğŸ§ª works!!!
	]}

;;todo â€  {:des "app mode" :rules [:APP
	;; [:!SRt [:open "raycast://confetti"]] ;; ğŸ§ª
	;; ]}

;;* ============================================
;;* LAYERS =====================================
{:des "escape-mode" :rules [:â‹Âµ ;;?========================= ESCAPE MODE (â‹Âµ)
	;; [:!!t [:open "raycast://confetti"]] ;;â€¢ â‹+t to test -> works
	;; TODO (ESCAPE MODE)
	]}
;; F1 MODE (empty) 
	;; {:des "f1-mode for f1 things" :rules [ :f1&
	;;TODO (F1 MODE)
	;; ]}
{:des "tilde-mode"  :rules [:tildeÂµ ;;?===================== TILDE MODE  (tildeÂµ)
		[:1 [[:ğŸ›] :!TOCf11]] ;;â€¢ tilde+1 slidepad 1
		[:2 [[:ğŸ›] :!TOCf12]] ;;â€¢ tilde+2 slidepad 2
		[:3 [[:ğŸ›] :!TOCf13]] ;;â€¢ tilde+3 slidepad 3
		[:4 [[:ğŸ›] :!TOCf14]] ;;â€¢ tilde+4 slidepad 4
		[:5 [[:ğŸ›] :!TOCf15]] ;;â€¢ tilde+5 slidepad 5
		;; [:!Cd [[:ğŸ›] :!COTS5]] ;; â€¢ grave+7` slidepad 7
		
		;; [:s [[:ğŸ›] :!COSs]] ;;â€¢ grave+7` Sidenotes7
		;; [:8 [[:ğŸ›] :!TOCf18]] ;;â€¢ grave+8 slidepad 8
		;; [:9 [[:ğŸ›] :!TOCf19]] ;;â€¢ grave+9 slidepad 9
		;; [:10 [[:ğŸ›] :!TOCf20]] ;;â€¢ grave+10 slidepad 10
		;; [:11 [[:ğŸ›] :!TOCf21]] ;;â€¢ grave+11 slidepad 11\	

		[:d [[:ğŸ›] :!COTS4]] ;;â€¢ tilde+d Drafts Quick Capture
		[:f [[:ğŸ›] :!COTS5]] ;;â€¢ tilde+f Drafts Main Window 
		[:t [[:ğŸ›] :!!t]] ;;â€¢ tilde+t for tot
		[:r [[:ğŸ›] :!!r]] ;;â€¢ tilde+r menubarx
		[:s [[:ğŸ›] :!!r]] ;;â€¢ tilde+s sidenotes
		
		[:!C1 [:shortcut "Tot 1"]] ;;â€¢ tilde+âŒ˜1 for tot 1
		[:!C2 [:shortcut "Tot 2"]] ;;â€¢ tilde+âŒ˜2 for tot 2
		[:!C3 [:shortcut "Tot 3"]] ;;â€¢ tilde+âŒ˜3 for tot 3
		[:!C4 [:shortcut "Tot 4"]] ;;â€¢ tilde+âŒ˜4 for tot 4
		[:!C5 [:shortcut "Tot 5"]] ;;â€¢ tilde+âŒ˜5 for tot 5
		[:!C6 [:shortcut "Tot 6"]] ;;â€¢ tilde+âŒ˜6 for tot 6
		[:!C7 [:shortcut "Tot 7"]] ;;â€¢ tilde+âŒ˜7 for tot 7
		[:!C8 [:shortcut "Tot 8"]] ;;â€¢ tilde+âŒ˜8 for tot 8

	;;todo add modifiers for search, new, 

	;;TODO (TILDE MODE)
		;; [:backslash [[:ğŸ›] [:km "Focus Slidepad"]]] ;;â€¢ tilde+\ for focus slidepad
		;; [:q [[:ğŸ›] [:km "Focus Slidepad"]]] ;;â€¢ grave+q 
			;; [:a [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/ray`cast/apple-notes/new?arguments=%7B%22text%22%3A%22%22%7D"]] ] ;;â€¢ =+a for new apple note (via raycast)
		]}
{:des "1-mode (1p, )" :rules [ :1Âµ ;;?============================= 1 MODE      (1Âµ)
	;; 1Password
	[:p :!TSCp]              				 ;;â€¢ 1+p for Show 1Password (âŒƒâ‡§âŒ˜+p)
	[:!Cp :!TOSp]            				 ;;â€¢ 1+âŒ˜p for 1 PasswordShow Quick Access (âŒƒâŒ¥â‡§+p)
	[:!Op :!TSp]             				 ;;â€¢ 1+âŒ¥p for 1Password Autofill (âŒƒâŒ¥â‡§+p)
	[:!Tp [:open "alfred://runtrigger/com.alfredapp.vitor.1password/alfred+search+1password"] ] ;;â€¢ 1+âŒƒp for alfred search 1Password
	;; raycast://extensions/khasbilegt/1password/item-list
	;; raycast://extensions/khasbilegt/1password/vault-list

	]}
{:des "2-mode" :rules [ :2Âµ ;;?============================= 2 MODE      (2Âµ)
	[:!!t [:open "raycast://confetti"]]
	;; TODO (2 LAYER)
	]}
{:des "hyphen-mode" :rules [:-Âµ ;;?==================== HYPHEN MODE (-Âµ)
	[:##t [:open "raycast://confetti"]]
	;;TODO (HYPHEN MODE)
	]}
{:des "=-mode (new (a) apple note, (b)ear... d, o, r, âŒ˜r, )" :rules [ :=Âµ ;;?============================= EQUAL_SIGN MODE (=Âµ)
	; new CRUD
		[:a [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/raycast/apple-notes/new?arguments=%7B%22text%22%3A%22%22%7D"]] ] ;;â€¢ =+a for new apple note (via raycast)
		[:b [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/hmarr/bear/new-note"]] ] ;;â€¢ =+b for new bear 
		;; :b ;;â€¢ can also do new Bear from global shortcut âŒƒâŒ¥â‡§+B
		[:d [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/FlohGro/drafts/create-draft-and-open"]] ] ;;â€¢ =+d for new drafts
		[:n [:open "https://notion.new"] ] ;;â€¢ =+n new notion
		[:!Cn [:open "raycast://extensions/notion/notion/create-database-page"] ] ;;â€¢ =+n new notion
		;; raycast://extensions/koinzhang/stickies/new-stickies-note ;;â€¢ =+s New Sticky
		[:o [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/KevinBatdorf/obsidian/createNoteCommand"]] ] ;;â€¢ =+o for new obsidian
		[:r [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/roamresearch/roam-research/quick-capture"]] ] ;;â€¢ =+r to capture Roam notes
		[:!Cr [[:ğŸ”ˆ] [:open "raycast://extensions/raycast/apple-reminders/create-reminder"]] ] ;;â€¢ =+r for reminders
		[:u [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://extensions/praveenjuge/ulysses/new-empty-sheet"]] ] ;;â€¢ =+u for ulyses 
	;;TODO (EQUAL_SIGN MODE)
		]}
;; DELETE MODE (empty) (empty) ================================================================
	;; {:des "delete-mode for delete things" :rules [ :delete&
		;;TODO (DELETE MODE)
		;; ]}
;; TAB MODE (todo/disabled) ================================================================
	;; {:des "tab-mode for tab things" :rules [ :tab&
	;; ;;TODO (TAB MODE)
	;; ]}
;; LEFT_BRACKET MODE (todo/disabled) ================================================================
	;; {:des "left_bracket-mode for left bracket things" :rules [ :left_bracket&
	;;TODO (LEFT_BRACKET MODE)
	;; ]}
;;? BSLASH MODE (bslashÂµ) backslash ========================
	{:des "bslash mode" :rules [ :bslashÂµ 
		;; [:r [:open "raycast://extensions/roamresearch/roam-research/quick-capture"] ] ;;â€¢ \+r to capture Roam notes
		[:##1 :!TOCf11] ;;â€¢ backslash+1 slidepad 1
		[:##2 :!TOCf12] ;;â€¢ backslash+2 slidepad 2
		[:##3 :!TOCf13] ;;â€¢ backslash+3 slidepad 3
		[:##4 :!TOCf14] ;;â€¢ backslash+4 slidepad 4
		[:##5 :!TOCf15] ;;â€¢ backslash+5 slidepad 5
		[:##6 :!TOCf16] ;;â€¢ backslash+6 slidepad 6
		[:##7 :!TOCf17] ;;â€¢ backslash+7 slidepad 7
		[:##8 :!TOCf18] ;;â€¢ backslash+8 slidepad 8
		[:##9 :!TOCf19] ;;â€¢ backslash+9 slidepad 9
		;; [:##s [:km "Focus Slidepad"]]
		
		              
                    ;;   [:l [:open "/Applications/Google Chrome.app"]]]}]}

		]}
;; QUOTE MODE (disabled) ================================================================
	;; {:des "quote-mode for quote things" :rules [ :quote&
	;;TODO (QUOTE MODE)
	;; ]}
	
	;; NOTE: quote is set as left control for emacs (no it's)
;;? RETURN MODE â†©Âµ (enabled) ================================================================
	{:des "return-mode for return things" :rules [ :â†©Âµ
		[:!!t [:open "raycast://confetti"]] ;;* works
		[:##spacebar :!!COTSreturn_or_enter]
		;; TODO (RETURN MODE)
		]}
;;? PERIOD MODE .Âµ (enabled, to convert) ====================================================
	{:des " period-mode for typinator and autocomplete":rules [ :.Âµ 
		[:spacebar [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!STperiod]] ;;â€¢ .+space for Typinator Suggest Abbreviation (via âŒƒâ‡§+. hotkey set in app pref)
		]}
;;? (FORWARD) SLASH MODE (fslashÂµ) ==============
	{:des "slash-mode" :rules [ :fslashÂµ
		[:k [:run "open -a Marked /Users/loudog/Sync/config.files/Karabiner/karabiner.edn"] ] ;;â€¢ /+k to open karabiner.edn in Marked		
		
		[:spacebar [:!CSslash [:ğŸ”ˆğŸ”ˆğŸ”ˆ]] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		[:q [:open "raycast://extensions/raycast/raycast/search-quicklinks"] ] ;;â€¢ /+q to Search Quick Links via Raycast
		;; [:r [:open "raycast://extensions/roamresearch/roam-research/search"] ] ;;â€¢ /+r to search Roam notes vvis raycast 
		
		[:t [:open "raycast://extensions/maggie/todo-list/index"]]
		;;â€¢ Roam, Reminders and TODOs commands
			[:r [ [:open "raycast://extensions/roamresearch/roam-research/search"]] ] ;;â€¢ /+r to search Roam ğŸŸ¢
			[:!Cr [ [:open "raycast://extensions/roamresearch/roam-research/quick-capture"]] ] ;;â€¢ /+r to capture to Roam ğŸŸ¢
			[:#Sr [ [:open "raycast://extensions/notion/notion/add-text-to-page?arguments=%7B%22text%22%3A%22%22%7D"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			[:#Tr [ [:open "raycast://extensions/raycast/apple-reminders/my-reminders"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			[:#TCr [ [:open "raycast://extensions/raycast/apple-reminders/create-reminder"]]] ;;â€¢ /+âŒ˜n create Notion database page 
		;;â€¢ Bear
			[:b [:open "raycast://extensions/hmarr/bear/index"] ] ;;â€¢ /+b to search Bear (raycast)
			[:!Cb :!TOSb] ;;â€¢ /+âŒ˜b New Bear
			[:!Ob :!TSCb] ;;â€¢ /+âŒ¥b Activate Bear


		;;â€¢ Obsidian

		;;â€¢ /+a (Apple)
			[:a [:open "raycast://extensions/raycast/apple-notes/index"] ] ;;â€¢ /+a to search Apple Notes via Raycast
			;; [:!Ra :!COTa] ;;â€¢ /+(r)â‡§a shiftâŒ˜a for Apple Notes NOTE: start using /+right shift for bartender 

		;; â€¢ Notion Commands
		    [:n [:open "raycast://extensions/notion/notion/search-page"]] ;;â€¢ /+n for Search Notion via raycast
			[:#Cn [ [:open "raycast://extensions/notion/notion/create-database-page"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			[:#Sn [ [:open "raycast://extensions/notion/notion/add-text-to-page?arguments=%7B%22text%22%3A%22%22%7D"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			[:#Tn [ [:open "raycast://extensions/notion/notion/quick-capture"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			[:#On [ [:open "https://notion.new"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			
			;; [:#SCn :rayfetti];;â€¢ /+â‡§âŒ˜n
			;; [:#TCn ] ;;â€¢ /+âŒƒâŒ˜n
			;; [:#OCn ] ;;â€¢ /+âŒ¥âŒ˜n 
			;; [:#TOn ] ;;â€¢ /+âŒƒâŒ¥n  k
			;; [:#STn ] ;;â€¢ /+âŒƒâ‡§n 
			;; [:#SOn ] ;;â€¢ /+â‡§âŒ¥n 
			;; [:#SOCn] ;;â€¢ /+âŒ¥â‡§âŒ˜n 
			;; [:#TOCn [:open "raycast://extensions/notion/notion/search-page"]]] ;;â€¢ /+âŒ˜n create Notion database page
			;; [:#STOn [:open "raycast://extensions/notion/notion/add-text-to-page?arguments=%7B%22text%22%3A%22%22%7D"]]] ;;â€¢ /+âŒ˜n create Notion database page
			;; [:#STCn [:open "raycast://extensions/notion/notion/add-text-to-page?arguments=%7B%22text%22%3A%22%22%7D"]]] ;;â€¢ /+âŒ˜n create Notion database page
			
			[:!Qn [:km "Notion: Notion AI"]] ;;â€¢ /+âŒ˜n
			[:!SQn [:km "Notion: Command Search"]] ;;â€¢ /+âŒ˜n
			[:!QRn [:km "Notion: Command Search"]] ;;â€¢ /+âŒ˜n
			;; [:#RScomma [ [:open "raycast://extensions/notion/notion/create-database-page"]]] ;;â€¢ /+âŒ˜n create Notion database page 
			;; [:8 [ [:open "kmtrigger://macro=F5EDE946-40E2-4AEA-827F-48CEFD38689D"]] ] ;;â€¢ /+d to search Dynalist (via km)
			;; [:l [ [:open "raycast://extensions/futantan/logseq/logsearch"]] ] ;;â€¢ /+l to search logdeq (via Raycast)
		;; * /+1/2/3/4
		;; [:1] ;;* search


	;; TODO (fslash mode)
		;; [:spacebar [:!CSslash [:ğŸ”ˆğŸ”ˆğŸ”ˆ]] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		;; [:spacebar [:open "kmtrigger://macro=F02A9897-43EA-42E6-89DD-33644529F73A"] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		;; [:spacebar [:km "/+spacebar for Help Menu"] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
	 	;; [:h [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "alfred://runtrigger/com.alfredapp.hookbookmark/search-hookmark-bookmarks/"]] ] ;;â€¢ /+h to Search Hookmark Bookmarks (via Alfred worflow URL)
		;; see vscode://file/Users/loudog/Sync/config.files/Karabiner/krb-purged-2-special-char.edn:11
		;; [:spacebar [:!CSslash [:ğŸ”ˆğŸ”ˆğŸ”ˆ]] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		;; [:spacebar [:open "kmtrigger://macro=F02A9897-43EA-42E6-89DD-33644529F73A"] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		;; [:spacebar [:km "/+spacebar for Help Menu"] ] ;;â€¢ slash+spacebar for Help Menu Search (via System hotkey âŒ˜â‡§+/) ğŸŸ¢
		;; [:#SCh [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "file:///Users/loudog/"]]] ;;â€¢ /+âŒ˜n create Notion database page 
		;; [:#SCd [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "file:///Users/loudog/Desktop"]]] ;;â€¢ /+âŒ˜n create Notion database page 
		;; [:#SCa [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "file:///Users/loudog/Applications"]]] ;;â€¢ /+âŒ˜n create Notion database page
		;; [:#SCs [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "file:///Users/loudog/Sync"]]] ;;â€¢ /+âŒ˜n create Notion database page
		;; [:#SCs [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "file:///Users/loudog/Sync"]]] ;;â€¢ /+âŒ˜n create Notion database page

		]}
;;? SPACE MODE (âœ… full) ===============
	{:des "spacebar mode" :rules [ ;;*= SPACE MODE =======================
	;; COMMENTS:
	;; homerow keyboard
		[:#TOWERQb :spacebar :space-mode]        ;;â€¢ spacebar+b for space
		[:!Fb :rayfetti :space-mode]        ;;â€¢ spacebar+b for space
		; jlik for â†â†‘â†’â†“ (left/right/up/down arrows)
			[:##j :left_arrow  :space-mode]  ;;â€¢ spacebar+j for â†
			[:##l :right_arrow :space-mode] ;;â€¢ spacebar+l for â†’
			[:##i :up_arrow    :space-mode]    ;;â€¢ spacebar+i for â†‘
			[:##k :down_arrow  :space-mode]  ;;â€¢ spacebar+k for â†“
		; spacebar+;/o/u/p/h/y for non-text characters (â†©â‡¥, delete, page up/down)
			[:##semicolon :return_or_enter :space-mode] ;;* spacebar+return for â†©
			[:#QWERo :tab :space-mode] ;;* spacebar+u for tab (QWER so can to window management)
			[:#QWERu :!Stab :space-mode] ;;* spacebar+u for â‡§+tab
			[:##p :delete_or_backspace :space-mode] ;;* spacebar+p for delete
			[:##y :page_up :space-mode] ;;* spacebar+y for page up
			[:##h :tab :space-mode] ;;* spacebar+h for â‡¥		; spacebar+asdf for modifiers (â‡§âŒ¥âŒ˜âŒƒ)
			;;todo (remember thought about c instead F (check omf project))
			[:##a :right_control :space-mode] ;;* spacebar+a for ctrl
			[:##s :right_shift :space-mode] ;;* spacebar+s for shift
			[:##d :right_option :space-mode] ;;* spacebar+d for option
			[:##f :right_command :space-mode] ;;* spacebar+f for cmd (why isn't this left command)
			[:##caps_lock :fn :space-mode] ;;* spacebar+caps_lock for 
			;; [:##left_shift :caps_lock :space-mode] ;;* spacebar+caps_lock for 
	;; spacebar+xxx for shift modifiers
		[:##comma :!Scomma :space-mode] ;;â€¢ spacebar+comma for "<"
		[:##period :!Speriod :space-mode] ;;â€¢ spacebar+period for ">""
	;; spacebar+MISC for v clipboard history, m moom, c contexts, REMOVED w for contexts and tab for contexts
		[:##v [[:ğŸ”ˆğŸ”ˆğŸ”ˆ][:km "Clipboard History Switcher"]] :space-mode]  ;;â€¢ spacebar+v for "Clipboard History" (via KM macro)
		[:##m [[:ğŸ”ˆğŸ”ˆğŸ”ˆ]:!!f14] :space-mode] [:##m [[:ğŸ”ˆğŸ”ˆ]:!!f14] :Rctrl-mode] ;;â€¢ spacebar+m for activate moom (like this one better)
		[:##w [[:ğŸ”ˆğŸ”ˆğŸ”ˆ]:!CTOw] :space-mode] [:##c [[:ğŸ”ˆğŸ”ˆ]:!Ospacebar] :Rctrl-mode] ;;â€¢ space+c to activate Contexts
		[:##return_or_enter [[:ğŸ”ˆğŸ”ˆğŸ”ˆ]:!Of12] :space-mode]  ;;â€¢ spacebar+return for Bartender Search menu bar items (via âŒ¥+F12 in Bartender) ğŸŸ¢ğŸ”°new
	;; todo something with tab, tilde ect.... [:##tab :#menu]
	;;?ğŸªŸ  Space Mode Window MGMT
	;;* spacebar+w for window
		;; [:!w ]
	[:!Sb [:btt "prev-window"]] ;;* spacebar+b (left_shift) for btt prev-window
	;; context
	;; :!grave_accent_and_tilde
	;; btt://trigger_named/?trigger_name=prev-window
	;; TODO
		;; use with
		;; [ ] +1/2/3/4 for...
		;; [ ] F1/f2/f3/f4 for... F11 to F22
		]}
;;? UP_ARROW MODE ================================================================
	;; {:des "up_arrow-mode for up arrow things" :rules [ :up_arrow&
	;; TODO (UP_ARROW MODE)
	;; ]}t
;;? RIGHT_SHIFT (:Râ‡§Âµ)
;; TODO â€  LAYER TEMPLATE
	;; {:des "KEYKEY-mode for XXX things" :rules [ :NEWKEYÂµ
	;; [:!!t [:open "raycast://confetti"]] ;;* test
	;; TODO (NEWKEY MODE)
	;; ]}

;;* SIMLAYERS (a,b,c modes) ==================================================================
;; A MODE (EMPTY) ========================================================
	;; leave empty and see vscode://file/Users/loudog/Sync/config.files/Karabiner/krb-purged.edn:144
;;? B MODE =======================
	{:des "b-mode" :rules [ :b& 
		[:i :vk_consumer_brightness_up] ;;â€¢ b+i for brightness up
		[:d :vk_consumer_brightness_down] ;;â€¢ b+d for brightness
		
		; Bear stuff
		[:semicolon 	[:!TSCb  [:ğŸ“¢]]] 			;;â€¢ b+; for activate Bear via global hotkey âŒƒâ‡§âŒ˜+b
		[:equal_sign 	[:!TSOb  [:ğŸ“¢]]]  			;;â€¢ b+= for new bear note via âŒƒâŒ¥â‡§+b
		[:n 			[:km "New Bear Note"]]		;;â€¢ b+n for km New Bear Note
		;; [:slash 		[:km "Jump to Bear"]] 		;;â€¢ b+/ for Jump to Bear insgrey
		[:w 			[:km "Hover Bear â— NOW"]] 	;;â€¢ b+w for Hover Bear â— NOW
		[:r 			[:km "Hover Bear â— NOW"]] 	;;â€¢ b+r Hover Bear â— NOW
		;;* b+h hover bear now via URL BEARNOW new 2024-10-16
		[:h [:open "bear://x-callback-url/open-note?id=AEC12198-1ED0-40A4-8696-C9701215D8BB"]]
		;;* b+n Bear Now
		[:n [:open "bear://x-callback-url/open-note?id=AEC12198-1ED0-40A4-8696-C9701215D8BB&header=NOW&new_window=yes&float=no&show_window=yes&open_note=yes&pin=no&edit=no"]]
		;; bear now (b+h for bear hover km that floats it front and center)
		;; [:h [:km "bear://x-callback-url/open-note?id=AEC12198-1ED0-40A4-8696-C9701215D8BB"] ]  ;;â€¢ b+h for simple URL by ID
		
		;;* b+s to add hook md link to BearShelf and refocus las<t  window
		[:s [:!SCspacebar :vk_consumer_brightness_up :vk_consumer_brightness_down :b :s :tab :!Cv]] ;;* paste clipboard into... #todo
		;; BearShelf
		[:v [:km "BearShelf: add clipboard"]]
		[:c [:km "BearShelf: add hyper-c"]]
			;; [:c [:open "bear://x-callback-url/add-text?title=BearShelf&header=INBOX&mode=prepend&new_line=no&open_note=no&show_window=no&timestamp=yes&clipboard=yes"]] ;;* b+s to prepend 
		[:f [:km "BearShelf: float"]]
		[:k [:km "BearShelf: add hook to current window"]]
		[:m [:km "BearShelf: add hook to current window"]]
		
		[:period [:km "BetterTouchTool: Show Menu Bar in Context Menu"]] ;;â€¢ b+. for menu context menu 
		;; todo make a "close window and save"
		;; [:m [:!!m [:open "bear://x-callback-url/add-text?title=BearShelf&header=INBOX&mode=prepend&new_line=no&open_note=no&show_window=no&timestamp=no&clipboard=yes"] ]]
			;; not working don't know why...
			
		;; [:s [:!!m [:run "open bear://x-callback-url/add-text?title=BearShelf&header=INBOX&mode=prepend&new_line=no&open_note=no&show_window=no&timestamp=no&clipboard=yes" ]] ]
		;; [:s [[:open "bear://x-callback-url/open-note?title=BearShelf&header=INBOX&new_window=yes&search=INBOX"] :wait :escape]]
		;; [:t [:tink]] ;; worked
	
		;; [:p [[:ğŸ“¢]:!CTSg] ] ;;â€¢ working sound + key 

		
			;; [:w        [:km "Hover Bear â— NOW"] ]   ;;â€¢ b+w for Jump to Bear insgrey
		;; btt stuff
		;;TODO add back btt named menus, save active window for recall
				;;* b+/ for better touch tool
		]}
;;? C MODE ================================================================
	{:des "c-mode for c things" :rules [ :c& ;;* â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“
		[:d :!Cquote] ;;â€¢ c+d for âŒ˜+quote (evernote default shortcut for "focus tag field")
		[:w [:km "Move Mouse to Focused Window"] ] ;;â€¢ c+w for km "Move Mouse to Focused Window" âœ¨new 6/12/23
		[:m [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:btt "Show Context Menu for Selected Item"]] ] ;;â€¢ c+m for btt "Show Context Menu+ for Selected Item" âœ¨ NEW 12/01/2	
		; macOS spaces
			[:comma [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!STOcomma]] ;;â€¢ c+comma for Switch Active Workspace Left (via System Hotkeys) ğŸŸ¤ recently re-activated
			[:period [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!STOperiod]] ;;â€¢ c+period for Switch Active Workspace Right (via System Hotkeys
		; c+1/2/3 for clipboard
			[:1 [:km "copy clipboard 1"] ] ;;â€¢ c+1 copy to clipboard 1
			[:2 [:km "copy clipboard 2"] ] ;;â€¢ c+2 copy to clipboard 2
			[:3 [:km "copy clipboard 3"] ] ;;â€¢ c+3 copy to clipboard 3
	;;TODO for c-mode 
		;; [ ] add back km "picklist cheatsheet"
		;; rehome [:a [:km "Jump to Fantastical"] ] ;;â€¢ c+a for km "Jump to Fantastical"
		;; rehome [:o [:km "Query Contacts"] ] ;;â€¢ c+o for km "Query Contacts"

	]}
;;? D MODE ================================================================
	{:des "d-mode for d things" :rules [ :d& ;;================================== D MODE
		;; d+asfg for tab manipulation..........................................
			[:a :!Copen_bracket] 	;;â€¢ d+a for Page Back via âŒ˜[
			[:s :!TStab] 			;;â€¢ d+s for tab left via âŒƒâ‡¥
			[:f :!Ttab] 			;;â€¢ d+f for tab right via â‡§âŒƒâ‡¥
			[:g :!Cclose_bracket] 	;;â€¢ d+g for Forward Page via âŒ˜]
		[:t [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :dictation] ] ;;* d+t for Dictate Text (via â‡§âŒƒâŒ˜d hotkey set in System Preferencees > Keyboard > Dictation)
		[:c :!Cquote] 				;;* d+c for âŒ˜+quote (edit tags in omnifocus, evernote ect...)
		[:h [:open "/Users/loudog"] ] ;;â€¢ d+h home folder 
		[:k [:open "/Users/loudog/Desktop"] ] ;;â€¢ d+k desktop
		[:l [:open "/Users/loudog/Downloads"] ] ;;â€¢ d+l downloads
		[:y [:open "/Users/loudog/Sync"] ] ;;â€¢ d+y Sync
		[:p [:open "/Users/loudog/Pictures"] ] ;;â€¢ d+p Pictures

		
	;;TODO (D MODE)
		;; [:q [:right_gui :right_gui ]] ;;* d+q for ask siri via double press
		;; #common-commands
			;; [:w [:km "Item Up Â©"]] ;;â€¢ d+w for Item Up (global KM context "Item Up Â©")
			;; [:v [:km "Item Down Â©"]] ;;â€¢ d+v for Item Down (global KM context "Item Down Â©")
		;; rehome [:0 [:btt "raycast-todo-menuapp"] ] ;;â€¢ d+0 for Raycast todo works 
		;; rehome [:delete_or_backspace [:btt "raycast-todo-menuapp"] ] ;;â€¢ d+0 for Raycast todo works	
	]}
;;? E MODE ================================================================
	{:des "e-mode for e things" :rules [ :e& ;;===== ============================
		[:c [:km "Try Current Macro"] ] ;;â€¢  e+c for "Try Current Macro" (via KM)
 	;;TODO (E MODE)
		;; [:f [:open "kmtrigg er://macro=EFE846C8-9B93-47C5-9A9F-9EBA0D76D79F"] ] ;;â€¢ e+f for float notes for app ğŸ”° 
		;; Broken [:u [:open "file:///Users/loudog/Library/Application%20Support/KeyCue/KeyCue-URLs.txt"]] ;;â€¢ edit Key Cue URL's via
	]}	
;;? F MODE ================================================================
	{:des "f-mode for f things" :rules [ :f&
		[:k  [:open "shortcuts://run-shortcut?id=2D1A4FED-D5A1-4122-A125-7D5BF6C45E20"]] ;;â€¢ f+k Full Keyboard Access Toggle via shortcuts

		;; f+l-cmd/space/r-cmd for left click, right click, and button 3
		[:spacebar :button1] [:right_control :button1] ;;â€¢ f+spacebar for left-click (f+right-control same thing with UHK compatability)
		[:right_gui :button2];;â€¢ f+right_command for right-click
		[:left_gui :button3];;â€¢ f+left_command for "button3" ... (!Cbutton1 doesn't work as a <to> but can be recreated using button3)
		
		;; [:##t :!Tf7] ;;â€¢ f+t Change the way Tab moves focus âŒƒF7
		;; [:##k :!Tf1] ;;â€¢ f+k Turn keyboard access on or off âŒƒF1
	
	;; ğŸªŸ Window Mgmt and Focus (macOS built-in and defaults)
		;; [:##tab :!Cgrave_accent_and_tilde]  ;;â€¢ f+tab Move focus to next window âŒ˜+tilde â˜‘ï¸
		;; [:##grave_accent_and_tilde :!SCgrave_accent_and_tilde] ;;â€¢ f+tilde Move focus to active or next window âŒƒ`
		;; [:##q :!SCgrave_accent_and_tilde] ;;â€¢ f+q Move focus to active or next window âŒƒ`
		[:##tab :!Tf4]  ;;â€¢ f+tab Move focus to next window âŒ˜+tilde â˜‘ï¸
		[:##grave_accent_and_tilde :!TSf4] ;;â€¢ f+tilde Move focus to active or next window âŒƒ`
		[:##q :!TSf4] ;;â€¢ f+q Move focus to active or next window âŒƒ`

		[:##m :!Tf2] ;;â€¢ f+m Move focus to the menu bar ^F2 â˜‘ï¸
		[:##b :!Tf3] ;;â€¢ f+b Move focus to the Dock ^F3 â˜‘ï¸
			;; [:##d :!Tf3] ;;â€¢ f+d Move focus to the Dock ^F3 (focus bottom) â˜‘ï¸ 
		[:##t :!Tf5] ;;â€¢ f+t Move focus to the window toolbar âŒƒF5 (focus top)â“
		;; [:##w :!Tf6] ;;â€¢ f+w Move focus to the floating window ^F6 â“
		[:##backslash :!Tf8] ;;â€¢ f+\ (backslash) Move focus to status menus ^F8  ğŸŸ¢ works but weird 2024-10-24
	;; km, slate and...
		[:1 [:km "Focus 1"]] ;; * f+1 for focus 1
		[:2 [:km "Focus 2"]] ;; * f+2 for focus 2
		[:3 [:km "Focus 3"]] ;; * f+3 for focus 3
		[:4 [:km "Focus 4"]] ;; * f+4 for focus 4 
		[:##s [:km "Â© Focus Left Sidebar"]] ;;â€¢ f+s Move focus to status menus ^F8 âŒ

	;; overlays
	;;â€¢ Show contextual menu
	
	[:period [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:btt "Show Menu Bar in Context Menu"]] ] ;;â€¢ f+. for btt "Show Context Menu for Selected Item" ğŸŸ¢
	
	;;TODO (F MODE)
		;; [ ] work back in :km "Focus 1", (add Â© and consolidate) #common-commands
		;; [ ] revisit slate focus windows (no equivilent)
		[:p [:open "kmtrigger://macro=B4905F39-C99B-4DC8-B0F1-D86DA7E3DE6A"] ] ;;â€¢ f+p for ğŸ¨ğŸ¥ Float Palette
		[:n [:open "kmtrigger://macro=EFE846C8-9B93-47C5-9A9F-9EBA0D76D79F"] ] ;;â€¢ f+n for float notes for app ğŸ”° 
		;; [:m [:open "kmtrigger://macro=1D8E356F-C110-48C0-982B-7895C037B349"] ] ;;â€¢ f+m for Float Front Window with Marked
		;; [:l [:open "raycast://extensions/raycast/floating-notes/toggle-floating-notes-window"] ] ;;â€¢ f+l for raycast floating notes (via URL)
		
	]}
;;? G MODE ================================================================
	{:des "g-mode for g things" :rules [ :g&
		[:spacebar [:km "Click GUI Button"]] ;;â€¢ g+spacebar for Click GUI Button
		[:right_control [:km "Click GUI Button"]] ;;â€¢ g+right_control for Click GUI Button (for compatability with UHK split spacebar)
		[:k [[:run "goku"] [:tink]] ] ;;â€¢ g+k to run goku #1... works!
		[:j [:t :e :s :t]] ;;â€¢ g+j to run test		
		[:p [[:ğŸ“¢]:!CTSg] ] ;;â€¢ g+p ChatGPT bar âœ¨ new 2024-10-16
		[:o [:shortcut "!-GO-ULTRA"]];;â€¢ g+o for go ultra 

	;;TODO (G MODE)
		;; change below to use shortcuts template (after replacing)
			;; [:o [:open "shortcuts://run-shortcut?id=E5ADC50C-B86E-47C7-8125-D437598EDA92"] ] ;;â€¢ g+o to run GO Ultra shortcut (double-tap on phone...)
		;; [ ] circleback to rabbit hole
		;; think through test
	]}
;;? H MODE ================================================================
	{:des "h-mode for h things" :rules [ :h&
		[:d [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:km "Â© Hide Application"] ]] ;;â€¢ h+d for Â© Hide Application
		[:k [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!Th]] ;;â€¢ h+k for Hookmark (via âŒƒh) ğŸ”° new 8/11/23
	;;TODO (H MODE)
		;; âŒ rework  [:i [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!Ti] ];;â€¢ h+i for Slidepad (via âŒƒi) ğŸ”° new 8/17/23, see if causes false positives
		;; rehome 		[:w [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:km "Float Obsidian Workbench with Marked"]]] ;;â€¢ w+b Float Obsidian Workbench with Marked
		;; rework 		[:p [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "/Applications/Setapp/MenubarX.app" ] ]] ;;â€¢ h+p for MenuBarX via :open (instead of âŒ¥+x hotkey)
	]}
;;? I MODE (EMPTY) ================================================================
	;; {:des "i-mode for i things" :rules [ :i&
	;; TODO (I MODE)
	;; ]}
;;? J MODE (filled) ================================================================
	{:des "j-mode for j things" :rules [ :j&
		[:o [:km "Jump to OmniFocus Quick"]] ;;â€¢ j+o for Jump to OmniFocus ğŸŸ¡ needs work > ğŸŸ¢ better now
		[:b [:km "Jump to Bear"]] ;;â€¢ j+b for Jump to BearË›st (global)
		[:p [:open "kmtrigger://macro=66C07414-FE85-44A0-A5DC-2C2DAD502E26"]] ;;â€¢ j+p for Jump to Palette via KM
		[:w [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!CTOw]] ;;â€¢ j+w for Jump to Window (via Context hotkey âŒ¥space) -> 2024-08-21 chaged from !Ospacebar to 
		[:s [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ]  :!OSCj ] ] ;;â€¢ j+s Search (Jump to) SideNotes (via âŒ¥â‡§âŒ˜+j)
		;;TODO (J MODE)
			;; rework Jump to.... (see vscode://file/Users/loudog/Sync/config.files/Karabiner/krb-purged.edn:273)
			;; [:r [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "kmtrigger://macro=047B91AB-DBCA-4976-BE79-C9A0603FA8B2"]]] ;;â€¢ j+r JUMP TO Apple Reminders (via km macro that uses GoodTask)
			;; [:r [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "alfred://runtrigger/com.jc.roampagesearch/roamSearchKE/?arg"]]] ;;â€¢ j+r Search Roam
		 ;; #common-command
			;; [:right_command [:km "Jump To..."]] ;;â€¢ j+right command for common command Jump to â­• TODO
			;; [:t [:km "Â© Jump To"]] ;;â€¢ j+t for Â© Jump To (via KM global contextual)
			;; [:right_gui [:km "Â© Jump To"]] ;;â€¢ j+right_gui for... AVAILABLE
	]}
		
;;? ======================== K MODE
	{:des "k-mode" :rules [ :k&
		[:l [:km "Keyboard Maestro: Local Trigger List Palette"]] ;;â€¢ k+l for 
		[:e [:km "edit karabiner config"]] ;;â€¢ k+e pick config-files
		;; [:e [:km "picklist config-files"]] ;;â€¢ ğŸ—‘
		;; [:c [:open "file:///Users/loudog/vaults/obs-git-config/config.files/karabiner/karabiner-copy-for-MBX.edn"]] ;;â€¢ k+c to open this file
			
		;; ğŸª„ Keyboard Maestro stuff
		[:spacebar :!CSOspacebar][:left_gui :!CSOspacebar] ;;â€¢ k+spacebar or k+lâŒ˜ for Trigger Macro by Name
		[:p :!SOCp]										   ;;â€¢ k+p for kyper key (â‡§âŒ¥âŒ˜+p) to Keyboard Maestro app conflict palette
		[:slash :!SOCslash] 							   ;;â€¢ k+/ (k+slash) for KM Select Menu by Name app (âŒ¥â‡§âŒ˜+/)
		[:return_or_enter [:km "Keyboard Maestro Status Menu"]] ;;â€¢ k+return for km status menu
		[:v [:km "Activate Clipboard History Switcher"]]   ;;â€¢ k+v Activate Named Clipboard Switcher 
		[:c [:km "Activate Named Clipboard Switcher"]] 	   ;;â€¢ k+c Activate Named Clipboard Switcher 
		[:x [:km "Clipboard: Paste by Name"]] 			   ;;â€¢ k+x Activate Named Clipboard Switcher
		[:w [:km "Activate Window Switcher"]] 			   ;;â€¢ k+w km window switcher
		;; [:!Ca [:km "Activate App Launcher"]] 		   ;;x k+âŒ˜ka Activate App Launcher
		
		; ğŸ¿ KY STUFF: l for roam log, d for dashboard)
		[:y [:open "https://roamresearch.com/#/app/myoldkyhome"]] ;;â€¢ k+y for ğŸ¿ğŸ““ KY House Log
		[:l [:open "https://roamresearch.com/#/app/myoldkyhome)"]] ;;â€¢ k+l for ğŸ¿ğŸ““ KY House Log
		[:d [:open "https://www.notion.so/my-old-ky-home/My-Old-Kentucky-Notion-c9ffb2a6aa6540e1b3e80a34e5db2d72?p=226804d32b084480a53b9c5ec4bde45f&showMoveTo=true)"]] ;;â€¢ k+d for ky house dashboard Notion
		[:j [:open "https://www.notion.so/my-old-ky-lakehouse/JOURNAL-666e38a11fc04a48b9893fc57bbd2c5e"]] ;;â€¢ k+j for ğŸ““ KY RUNNING JOURNAL (Notion)
		;; [:w [:open "kmtrigger://macro=08A820FF-1597-4884-A501-F57DF15D43D8"]] ;;â€¢ k+w for ğŸ¿ğŸ§° KY Workbench via marked
		;;x [:v [:open ""]] ;;â€¢ k+w for ğŸ¿ğŸ§° KY Workbench via marked
		;;TODO (K MODE)
		]}
;;? L MODE ================================================================
	{:des "l-mode for l things" :rules [ :l&
		[:1 [:open "https://roamresearch.com/#/app/Lous-Greenhouse" ]] ;;â€¢ l+1 for Lous-Greenhouse
			[:g [:open "https://roamresearch.com/#/app/Lous-Greenhouse" ]] ;;â€¢ l+g for Lous-Greenhouse
		[:2 [:open "https://roamresearch.com/#/app/loutodo" ]] ;;â€¢ l+2 for loutodo
			[:t [:open "https://roamresearch.com/#/app/loutodo" ]] ;;â€¢ l+t for loutodo
		[:3 [:open "https://roamresearch.com/#/app/thfkg" ]] ;;â€¢ l+3 for thfkg
		[:4 [:open "https://roamresearch.com/#/app/myoldkyhome" ]] ;;â€¢ l+4 for myoldkyhome roam

		[:d [:open "https://www.notion.so/loudog/LOU-DASHBOARD-2af984c519f8474a8632893fd5482eba"] ] ;;â€¢ l+d for  Lou's Dashboard (Notion) âœ¨ new
		[:spacebar [:open "raycast://extensions/raycast/raycast/search-quicklinks"]]
		
		
	;;TODO (L MODE)
		;; [:p [ [:open "kmtrigger://macro=46019D37-B359-498F-B0E0-CD49B6373FB8"]] ] ;;â€¢ l+p Log Palette (via km uuid URL
	]}
;;? M MODE (EMPTY)================================================================
	;; {:des "m-mode for m things" :rules [ :m&
	;; TODO (M MODE)
	;; ]}
;;? N MODE (transfer to layer or +mode) ================================================================
	{:des "n-mode for n things" :rules [ :n&
		[:i [[:tink] :!CTSo]] ;;â€¢ n+i New Omnifocus Quick Entry (via omf hotkey âŒƒâ‡§âŒ˜+o) ğŸŸ¢ FIXED
		[:q [:open "raycast://extensions/raycast/raycast/create-quicklink"]] ;;â€¢ n+q New Quick Link via Raycast
		;; [:t [:km "New Typinator Item from Selection"]] ;;â€¢ n+t for Quick Add Typinator Item â“ TODO
		[:t :!STn] ;;â€¢ n+t for Quick Add Typinator Item â“ TODO
		;;todo [:x [:km "New Text Replacement From Selection"]] ;;â€¢ n+t for New Text Replacement from suggestion 
		; new
		[:w [:km "New Window"]] ;;â€¢ n+w for New Window Â© glo
		[:g [:km "New ChatGPT Chat"]] ;;â€¢ n+g New ChatGPT Chat
		[:d [:km "New Drafts Note"]] ;;â€¢ n+d for New Drafts Note
		[:b [:km "New Bear Note"] ] ;;â€¢ nb for New Bear Note
		[:m [:km "New Message"]] ;;â€¢ n+m for New Message
		[:c [:km "New Event"]] ;;â€¢ n+c New Event via Fantastical
		[:r [:open "raycast://extensions/raycast/apple-reminders/create-reminder"] ] ;;â€¢ n+r for new reminder via raycast
		[:p [:open "kmtrigger://macro=F47E78A8-44C9-4A80-BC17-AE4D101DD6CA"]] ;;â€¢ n+p for new Palette ğŸ”°
		[:spacebar [:open "kmtrigger://macro=448A7D18-74A3-443E-919F-D230D5070EA2"]] ;;â€¢ n+spacebar for ğŸ”« New Trigger List ğŸ”°
	;;TODO (N MODE)
	]}
;;? O MODE (empty maybe leave) ================================================================
	;; {:des "o-mode for o things" :rules [ :o&
	;;TODO (O MODE)
	;; ]}
;;? P MODE ================================================================
	{:des "p-mode for p things" :rules [ :p&
		[:w [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:km "Activate 1Password"] ]] ;;â€¢ p+w for search 1password... ;; edited12/05/23 > edited 3/15/24  
		[:1 :!OSTp] ;;â€¢ 1passsword

	;;TODO (P MODE)
		;; [:c  [:km "Paste Clipboard by Name"]] ;;â€¢ p+c for Paste Clipboard by Name
		;; [:l [:km "picklist master"] ] ;;â€¢
		;; [:u [:km "picklist urls"] ] ;;â€¢ p+u to edit url picklist
	]}
;;? Q MODE â­â­â­ (rework as #layer: ?)================================================================
	{:des "q-mode for q things" :rules [ :q&
	
	;; [:l [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "drafts://open?uuid=00E137E9-0DB5-4824-8929-D3_30416244CE"]]] ;;â€¢ q+l open ğŸ”— QUICK LINKS
	[:l [:open "raycast://extensions/raycast/raycast/search-quicklinks"]]
	
	;;TODO (Q MODE)
		[:n [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "drafts://open?uuid=6823BE09-6193-4D97-894A-5147B7285DD9"]]] ;;â€¢ q+n to open âš¡ï¸ Quick Notes (Draft) #Drafts
		;; rehome [:b [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "drafts://open?uuid=02B40CD6-2E52-444F-9689-9B8D7D859436"]]] ;;â€¢ q+b to open ğŸ› QUICK DASHBOARD #Drafts
		
		[:d [ [:open "kmtrigger://macro=EAE91CED-C7F9-466E-9AE1-5614763DB869"]]  ] ;;â€¢q+d for â Add to main pick list
		;; [:m [ [:open "kmtrigger://macro=4C54CAED-E4FA-47F3-9626-4E09B9E56BA6"]]  ] ;;â€¢q+m for Quick Menu
		;; [:c [ [:ğŸ”ˆğŸ”ˆğŸ”ˆ]  [:open "obsidian://advanced-uri?vault=ldb&commandid=obsidian42-text-transporter%253Aobsidian42-text-transporter-QC"] ] ] ;;â€¢q+c for quick capture to highly opinionated vault 	

	]}
;;? R MODE ================================================================
	{:des "r-mode for r things" :rules [ :r&
	[:tab [:ray "raycast/navigation/switch-windows"]] ;;â€¢ r+tab for raycast window searchrtr

	;;* remote-mode (see vscode://file/Users/loudog/Sync/config.files/Karabiner/krb-purged.edn:431)
	;; maybe should be #layer:
	[:return_or_enter [:km "- Remote Modes Palette"]] ;;â€¢ r+return/enter for "- Remote Modes Palette"
	[:y [:km "YouTube Remote"]] 		;;â€¢ y for YouTube Remote
	[:x [:km "Deactivate Remote"]] 		;;â€¢ q for Deactivate Remote
	
	;;* raycast built-in
	[:v [:open "raycast://extensions/raycast/clipboard-history/clipboard-history"]] ;;â€¢ r+v for Raycast Clipboard History
	[:w [:open "raycast://extensions/raycast/navigation/switch-windows"]] ;;â€¢ r+w for Raycast Switch Window
	[:slash [:open "raycast://extensions/raycast/navigation/search-menu-items"]]    ;;â€¢ r+/ for Search Menu Items
	[:period [:open "raycast://extensions/raycast/snippets/search-snippets"]] ;;â€¢ r+. for Raycast snippets
	[:3 [:open "raycast://extensions/raycast/screenshots/search-screenshots"]] ;;â€¢ r+3 search screenshots
	[:grave_accent_and_tilde [:open "raycast://extensions/raycast/file-search/search-files"]] ;;â€¢ r+~ File search
	;; [:slash [:open ""]]    ;;â€¢ r+XXX for Raycast Clipboard History
	;; Raycast Snippets


	;;TODO (R MODE)
	;; TODO remote mode
	;; raycast reminders
			;; [:slash [:open "raycast://extensions/raycast/apple-reminders/my-reminders"]] ;;â€¢ r+/ raycast my reminders #Reminders
			;; [:equal_sign [:open "raycast://extensions/raycast/apple-reminders/create-reminder"]] ;;â€¢ r+= raycast new reminder reminders #Reminders
			;; [:delete_or_backspace [:!SCf12]] ;;â€¢ r+âŒ« for raycast reminders menuapp â“ BROKEN	
			;; âŒ doesn't work from outside raycast
				;; [:q [:open "raycast://extensions/raycast/apple-reminders/quick-add-reminder?arguments=%7B%22text%22%3A%22%22%2C%22notes%22%3A%22%22%7D"]] ;;â€¢ r+= raycast my reminders
			;; [:0 [:open "btt://trigger_named/?trigger_name=rm1"]] ;;â€¢ r+0 raycast reminders menuapp â“ BROKEN
	]}
{:des "s-mode" :rules [ :s& ;;? ----------------------------------S MODE
	[:r [:open "/System/Applications/Siri.app"]] ;;â€¢ s+r for siri ğŸŸ¢
	[:t :!STCs] ;;â€¢ s+t for Speak Text via system hot key (â‡§âŒ¥âŒƒS) ğŸŸ¢
	[:c [:km "Paste Clipboard by Name"]] ;;â€¢ s+c for Paste Clipboard by Name ğŸ”®
	[:v [:km "Shortcuts via Services Menu"]] ;;â€¢ s+v for Shortcuts via Services Menu via KM macro ğŸŒŸ
	[:m [:km "Select Menu by Name"]] ;;â€¢ s+m for Select Menu by Name âœ…
	
	;;TODO (S MODE)
		;; todo mouse mode
		;; [:c [:open "alfred://runtrigger/com.alfredapp.vitor.shortcuts/Shortcuts+Search+Workflow/?argument=test"]] ;;â€¢ s+c for run Shortcuts Alfred Workflow via custom trigger URL woring
		;; [:c [:a2lf "Shortcuts" "com.alfredapp.vitor.shortcuts"]] ;;â€¢ s+c for Shortcuts via Alfreds
		;; [:spacebar [[:ğŸ”ˆğŸ”ˆğŸ”ˆ][:alf "Search OmniFocus Tasks via Alfred" "net.rhydlewis.alfred.searchomnifocus"]]] ;; o+spacebar for Jump to OmniFocus ğŸŸ¡ NEEDTOFIX

	]}
;;? T MODE () ================================================================
	{:des "t-mode for testing thing things" :rules [ :t&
		;; ğŸ§ª TEST
		[:r [:soundOn]] ;;â€¢ TEST  t+r for test rule (ğŸ”ˆ worked) ğŸ”‰ğŸ”ŠğŸ›ğŸ””ğŸ“¢ğŸ“¯
		[:m [:km "TEST Macro"]] ;;â€¢ t_m for test macro3
		[:p [:km "TEST Palette"]] ;;â€¢ t+p test palette 
		
		[:d [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!Ti] ];;â€¢ t+d for Slidepad (via âŒƒi)
		[:s [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!OSCs]] ;;â€¢ t+s Open or Sidenotes td(via hotkey âŒ¥â‡§âŒ˜+s)
		[:g [:t :h :e :g :o :s :p :e :l :a :c :c :o :r :d :i :n :g :t :o :l :o :u] ] ;;â€¢ t+g tgal expansion

	;;TODO (T MODE)
		;;* Raycast Todo list 
			;; [:delete_or_backspace [:open ]] ;;â€¢ t+delete for raycast todos menubar ğŸ”° 
			;; [:equal_sign [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:!STCf11] ]] ;;â€¢ t+= for open raycast todo-list 
			;; [:equal_sign [:open "raycast://extensions/maggie/todo-list/index"] ] ;;â€¢ t+= for raycast todo-list via raycasut URL
			;; [:return_or_enter [:open "raycast://extensions/maggie/todo-list/index"] ] ;;â€¢ t+= for open raycast todo-list
	]}
;;? U MODE (empty)================================================================
	;; {:des "u-mode for u things" :rules [ :u&
	;;TODO (U MODE)
	;; ]}
;;? V MODE ================================================================
	{:des "v-mode for v things" :rules [ :v&
		[:1 [:km "paste clipboard 1"] ] ;;â€¢ c+1 paste to clipboard 1
		[:2 [:km "paste clipboard 2"] ] ;;â€¢ c+2 paste to clipboard 2
		[:3 [:km "paste clipboard 3"] ] ;;â€¢ c+3 paste to clipboard 3
	;;TODO (V MODE)
		[:p [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "raycast://confetti"]]]  ;;â€¢ v+p AVAILABLE
	]}
;;? W MODE ================================================================
	{:des "w-mode for w things" :rules [ :w&
		[:spacebar [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :mission_control] ] ;;â€¢ w+spacebar for Expose  (INSTEAD  of via âŒƒâŒ¥âŒ˜+f3) ->
		[:left_gui [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :mission_control] ] ;;â€¢ w+spacebar for Expose  (INSTEAD  of via âŒƒâŒ¥âŒ˜+f3) ->
		[:right_control [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :mission_control] [:uhks] ] ;;â€¢ w+spacebar for Expose  (INSTEAD  of via âŒƒâŒ¥âŒ˜+f3) ->
		[:c [:km "Center Window on Current Mouse Location"] ] ;;â€¢ w+c for km "Move Mouse to Focused Window" #core
		;; [:left_gui [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!!f14 ]] ;;* w+left_gui for moom via âŒƒâŒ¥â‡§âŒ˜F14 (accessable with left hand)
	;;TODO (W MODE)
		[:tab [:btt "Recall Saved Window"]] ;;â€¢ w+tab for Recall Saved Window (via BTT)
		;; workbench
			[:m [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:open "kmtrigger://macro=2B5C8666-4BD0-4FA7-B76F-A4F28DDB67AC"]]] ;;â€¢ w+m Workbench Menu "kmtrigger://macro=2B5C8666-4BD0-4FA7-B76F-A4F28DDB67AC"
			[:b [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:km "Float Obsidian Workbench with Marked"]]] ;;â€¢ w+b Float Obsidian Workbench with Marked
		; spaces (replace ğŸ”ˆğŸ”ˆğŸ”ˆ) see krb-purged.edn line 591 vscode://file/Users/loudog/Sync/config.files/Karabiner/krb-purged.edn:579
			[:a [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!STOcomma]] ;;â€¢ w+a for Switch Active Workspace Left (via System Hotkeys)
			[:d [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] :!STOperiod]] ;;â€¢ w+d for Switch Active Workspace Right (via System Hotkeys)
			;; [:f [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:btt "Move Window Space Right"] ] ] ;;â€¢ w+f  Move Window Space Right (via btt)
			;; [:caps_lock [[:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:btt "Move Window Space Left"] ] ] ;;â€¢ w+capslock Move Window Space Left (via btt)		
	]}
;;? X MODE ================================================================
	{:des "x-mode for x things" :rules [ :x&
	;;TODO (X MODE)
		;; clear notification
		;; rehome 		[:l [:!Ta :!TSe :!Sright_arrow [:ğŸ”ˆğŸ”ˆğŸ”ˆ] [:km "Extract URL from Selection"]]  ] ;;â€¢ compiled >>> did keyboard sequence, DID sound, DID KM ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€
		;;  #common-command
			;; 	[:u [:km "Â© Copy URL"]] ;;â€¢ x+u for Â© Copy URL (via KM global context)
	]}
;;? Y MODE (EMPTY) ================================================================
	;; {:des "y-mode for y things" :rules [ :y&
	;;TODO (Y MODE)
	;; ]}
;;? Z MODE (rework to layer mode?)================================================================
	{:des "z-mode for z things" :rules [ :z&
		[:i :volume_increment] ;;â€¢ z+i for volume up
		[:k :volume_decrement] ;;â€¢z+k for volume down
		[:p :vk_consumer_brightness_up] ;;â€¢ z+p for brightness up
		[:n :vk_consumer_brightness_down] ;;â€¢ z+n for brightness down
		;; TODO (Z MODE)
		]}
] ;;? CLOSES main

;;TODO
	;; ğŸŒ Marked URLS
		;; x-marked://paste (clipboad)
		;; "x-marked://refresh?file=filename.md&raise=true"
		;; open -g 'x-marked://open?file=filename.md&raise=true'
		;; open 'x-marked://open?file=filename.md'
		;; open 'x-marked://refresh?file=filename.md'


	;; :mission_control {:not-from true}
	;; :launchpad {:not-from true}
	;; :dashboard {:not-from true}

;;? ğŸ›° Universal Keybinding Wrapper
	;; core
		;; Command Palette
			;; could be spacemode right command P...
		;; Quick Open / Jump to 
		;; Move to
		;; Â© Copy UID, URL, md link, rich text link
			;; path
			;; Â© Copy URL
		
	;; Window mgmt/GUI 
		;; Main Window
		;; Open in New Window
		;; Focus 1/2/3/4
		;; toggle left/right sidebar
		;; Focus Sidebar
		;; Â© Open Context Menu
	;; tab control
		;; New Tab
		;; Tab right/left
		;; Back/Forward
	;; text editing and outlining
		;; Move up/down/left/right
		;; Item Up/down
			;; Item Down Â©
			;; Item Up Â©
		;; fold/unfold (all)
		;; toggle task/bullet
		;; comment, code editing
	;; more
		;; stop/start editing
			;; âŒ˜+e for edit in 1 password
		;; table of contents
		;; follow link under cursor
			;; Â© Follow Link Under Cursor
			;; Open and Go to Link [AppleScript] (omniFocus)
		;; rename
			;; Â© Rename
		;; Pin/flag item
		;; enable/disable
		;; duplicate
		;; print
		;; open, save as
	;; New item
	;; Delete Item
	;; Show Trash, Archive, Inbox
		;; âŒ˜+1
	;; delete
	;; open in Finder
	;; Find, replace
	;; expand selection
	;; tags
	;; comment
	;; Font bigger/ smaller âŒ˜++/-
	;; show info
	;; meata/float: 
		;; cheatsheet, log, todo, keybindings,
	
;;? EXAMPLES and Templates
	;; Lou
	;; [:p [[:ğŸ“¢]:!CTSg] ] ;;â€¢ working sound + key 

	
	;; {:des "simultaneous e f to 3" :rules [[:e :f] :3]} ;; simultaneous key to key
	;; {:des "g to 4 when variable vi-mode is 1" :rules [:g :4 :vi-mode]} ;; vi-mode is 1
	;; {:des "h to 5 when variable vi-mode is not 1" :rules [:h :5 :!vi-mode]} ;; vi-mode is 0
	;; {:des "i to 6 only for device hhkb-bt" :rules [:i :6 :hhkb-bt]} ;; key to key in layer b (in layer a) specific to hhkb-bt device
	;; {:des "j to 7 on hhkb-bt when variable vi-mode is 1" :rules [:j :7 [:vi-mode :hhkb-bt]]} ;; multiple condition
	;; {:des "press h insert 8 then set variable some-mode to 0" :rules [:h [:8 {:set ["some-mode" 0]}]]}] ;; h to 8 and set_variable
	;;   {:des "c to example osascript" :rules [ âœ… display dialogue  works
		;; [:c "osascript -e 'display dialog \"example apple script\"'"]
		;; ]} ;; key to shell script
	;; conditions
		;;;; helper function to generate things little bit quicker
 		;; quick define "layers" or "state" feature(use set_variable)
 		;; can use as conditions in rule list
 		;; {:<layer name> {:from <froms>}}
	;;â€¢  :simlayers {:vi-mode {:key :d}}
	;; â€¢  :simlayer-threshold 250

:cheatsheet {   ;;? ğŸ‘¿ CHEATSHEET 
;; reference -> TOSC (left âŒƒâŒ¥â‡§âŒ˜+), WERQ(right âŒƒâŒ¥â‡§âŒ˜), 
	}
} ;;? CLOSES FILE